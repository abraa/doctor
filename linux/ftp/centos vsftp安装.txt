安装ftp
#rpm -qa vsftpd 查看是否已经安装

#yum install -y vsftpd
#chkconfig --add vsftpd  增加系统服务,可以使用chkconfig管理
#chkconfig vsftpd on   在任何chkconfig level 下开启(3,4,5)?

#rpm -ql vsftpd  
/etc/logrotate.d/vsftpd.            vsftpd的日志文件 
/etc/pam.d/vsftpd                    PAM认证文件 
/etc/rc.d/init.d/vsftpd              启动脚本 
/etc/vsftpd                          vsftpd的配置文件存放的目录 
/etc/vsftpd/ftpusers                禁止使用vsftpd的用户列表文件 
/etc/vsftpd/user_list                禁止或允许使用vsftpd的用户列表文件 
/etc/vsftpd/vsftpd.conf              主配置文件 
/etc/vsftpd/vsftpd_conf_migrate.sh  vsftpd操作的一些变量和设置 
/usr/sbin/vsftpd                    vsftpd的主程序 
其他一些说明文档和手册文件略！ 
/var/ftp                            匿名用户主目录 
/var/ftp/pub                        匿名用户的下载目录

添加ftp用户

	添加账号:
	linux下ftp账号直接建立用户就好. vsftp
	groupadd ftpusers  //添加组
	//组里添加用户
	useradd -d /var/www/html/site1 -g ftpusers -s /sbin/nologin site1ftp
第一个参数-d表示用户home目录，其中/opt/lampp/www/这个路径必须是存在的，而site1则是在该命令执行时自动创建的。第二 个参数-g表示此用户隶属于哪个用户组，第三个参数-s表示此用户的shell环境，为安全起见我们应该设置为一个无权限的路径。最后一个参数才是此帐户 的登录名称，我这里是site1ftp。
	passwd site1ftp  //设置密码
	chmod -R 777 /opt/lampp/www/site1   //目录设置权限
	chown -R site1ftp /opt/lampp/www/site1   //修改目录所有权

ftp配置参考vsftpd配置文件
local_root=/var/www/html/   //本地用户登录显示目录
chroot_local_user=yes		//限定访问目录
//如果设定主目录那么主目录不能有写权限 否则会报refusing to run with writable root inside chroot() Login failed
allow_writeable_chroot=YES     //或者加上这句

启动ftp
[root@rusky bdump]# chkconfig --list vsftpd
vsftpd 0:off 1:off 2:off 3:off 4:off 5:off 6:off

[root@rusky bdump]# chkconfig --level 35 vsftpd on

[root@rusky bdump]# service vsftpd restart --启动/关闭命令为:service vsftpd start/stop 

systemctl enable vsftpd.service #设置开机启动


tcp_wrappers 防火墙